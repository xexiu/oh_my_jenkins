{"version":3,"sources":["webpack:///webpack/bootstrap 5336d67c851b5846ec2a","webpack:///./js/core/Utils.js","webpack:///./js/core/ConfigJSON.js","webpack:///./js/core/Jenkins.js","webpack:///./js/core/Storage.js","webpack:///./popup.js"],"names":["module","exports","buildTemplate","selector","containerSelector","templateImport","document","querySelector","import","template","documentElement","cloneTemplate","importNode","content","appendChild","addclass","elm","newclass","classes","className","split","push","newClass","Error","join","qs","node","qsAll","nodeList","querySelectorAll","toArray","isAlreadyCreated","Array","prototype","slice","call","clearNode","element","nodes","length","forEach","remove","HTMLDocument","getInputsValues","form","arrayValues","i","elements","input","value","closePopUp","chrome","extension","getViews","type","win","window","close","createIframe","src","body","innerHTML","iframe","createElement","clearStorage","storage","local","clear","log","msg","callBack","console","removeClass","classList","contains","insertElement","position","insertAdjacentElement","error","Utils","innerText","configJSON","API_JSON","HTTPS","HTTP_CODE_401","SLASH","DOUBLE_SLASH","fetch","credentials","SERVER_DOWN","jobs","JOBS_INITIALIZED","JOBS_CHANGED","all","OPTIONS_CHANGED","Unreachable","status","SUCCESS","UNSTABLE","FAILURE","ABORTED","default","upstream","ZERO","ONE","_","API","defaultJobData","defaultJobDataService","jenkins","jenkinsService","requestWithAsync","url","callback","cleanUrl","response","data","json","errorResponse","err","buildingRegExp","colorToClass","blue","yellow","red","colorToIcon","aborted","notbuilt","disabled","jobMapping","basicColor","color","replace","lastBuild","lastCompletedBuild","name","displayName","nodeName","decodeURI","building","test","statusClass","statusIcon","lastBuildNumber","number","lastBuildTime","reduce","job","subJobKey","charAt","Jenkins","request","then","res","ok","Promise","reject","jobNameRegExp","undefined","JobsService","req","Storage","Jobs","add","result","oldValue","newValue","set","setUrls","urls","newJobs","updateStatus","catch","$","clone","message","statusText","updateAllStatus","promises","when","initOptions","scope","options","refreshTime","notification","objects","broadcast","addListener","initJobs","get","onChanged","includes","init","initDebug","buildLeftTemplate","buildRightTemplate","getJobs","getJobsInfo","getBuild","dispatchEvent","eventName","detail","CustomEvent","on","addEventListener","e","StorageService","promisedCallback","deferred","runtime","lastError","resolve","keys","defer","promise","_forEach","obj","iterator","key","hasOwnProperty","JSON","parse","stringify","sync","WARNING_MSG","builds","mainWrapper","loadSpinner","spinner","alt","noViewsSelectedError","aElement","href","getURL","browserAction","setBadgeText","text","setBadgeBackgroundColor","views","view","buildJobs","viewName","cloneNode","map","index","jobName","getLastExecution","lastBuildUrl","user","token","showBuildInfo","wrapper","props","getDataProperties","cleanProps","hasUpstreamProjects","toLowerCase","toString","upstreamBuild","upstreamProject","getUpStreamInfo","buildName","fullDisplayName","branch","commitId","shortDescription","commitMsg","changeSet","items","attrName","extraAttrs","actions","revision","causes","lastBuiltRevision","parameters","attr","app","sendMessage","fn","saved_views"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;AC7DAA,OAAOC,OAAP,GAAiB;AACbC,mBAAe,uBAACC,QAAD,EAAWC,iBAAX,EAAiC;AAC5C,YAAMC,iBAAiBC,SAASC,aAAT,CAAuBJ,QAAvB,EAAiCK,MAAxD;AACA,YAAMC,WAAWJ,eAAeK,eAAf,CAA+BH,aAA/B,CAA6C,UAA7C,CAAjB;AACA,YAAMI,gBAAgBL,SAASM,UAAT,CAAoBH,SAASI,OAA7B,EAAsC,IAAtC,CAAtB;AACAP,iBAASC,aAAT,CAAuBH,iBAAvB,EAA0CU,WAA1C,CAAsDH,aAAtD;AACH,KANY;AAObI,cAAU,kBAACC,GAAD,EAAMC,QAAN,EAAmB;AACzB,YAAMC,UAAUF,IAAIG,SAAJ,CAAcC,KAAd,CAAoB,GAApB,CAAhB;AACAF,gBAAQG,IAAR,CAAaJ,QAAb;AACA,YAAID,IAAIG,SAAJ,KAAkBG,QAAtB,EAAgC;AAC5B,kBAAMC,uBAAqBN,QAArB,gCAAN;AACH,SAFD,MAEO;AACHD,gBAAIG,SAAJ,GAAgBD,QAAQM,IAAR,CAAa,GAAb,CAAhB;AACH;AACJ,KAfY;AAgBbC,MAhBa,cAgBVtB,QAhBU,EAgBAuB,IAhBA,EAgBM;AACf,eAAO,CAACA,QAAQpB,QAAT,EAAmBC,aAAnB,CAAiCJ,QAAjC,CAAP;AACH,KAlBY;;AAmBbwB,WAAO,SAASA,KAAT,CAAexB,QAAf,EAAyBuB,IAAzB,EAA+B;AAClC,YAAIE,WAAW,CAACF,QAAQpB,QAAT,EAAmBuB,gBAAnB,CAAoC1B,QAApC,CAAf;AACA,eAAO,KAAK2B,OAAL,CAAaF,QAAb,CAAP;AACH,KAtBY;AAuBbG,sBAAkB,0BAAU5B,QAAV,EAAoBuB,IAApB,EAA0B;AACxC,eAAOA,QAAQpB,SAASC,aAAT,CAAuBJ,QAAvB,CAAf;AACH,KAzBY;AA0Bb2B,aAAS,iBAAUJ,IAAV,EAAgB;AACrB,eAAOM,MAAMC,SAAN,CAAgBC,KAAhB,CAAsBC,IAAtB,CAA2BT,IAA3B,CAAP;AACH,KA5BY;AA6BbU,eAAW,mBAAUC,OAAV,EAAmBlC,QAAnB,EAA6B;AACpC,YAAImC,QAAQ,KAAKX,KAAL,CAAWxB,QAAX,KAAwBkC,OAApC;AACA,YAAIC,MAAMC,MAAN,GAAe,CAAnB,EAAsB;AAClB,eAAGC,OAAH,CAAWL,IAAX,CAAgBG,KAAhB,EAAuB,UAAUZ,IAAV,EAAgB;AACnC,uBAAOA,QAAQA,KAAKe,MAAL,EAAf;AACH,aAFD;AAGH,SAJD,MAIO;AACH,gBAAIJ,WAAY,CAACA,OAAD,YAAoBK,YAApC,EAAmD;AAC/C,uBAAOL,WAAWA,QAAQI,MAAR,EAAlB;AACH;AACJ;AAEJ,KAzCY;AA0CbE,qBAAiB,yBAAUC,IAAV,EAAgB;AAC7B,YAAIC,cAAc,EAAlB;AACA,aAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIF,KAAKG,QAAL,CAAcR,MAAlC,EAA0CO,GAA1C,EAA+C;AAC3C,gBAAIE,QAAQJ,KAAKE,CAAL,CAAZ;AACAD,wBAAYxB,IAAZ,CAAiB2B,MAAMC,KAAvB;AACH;AACD,eAAOJ,WAAP;AACH,KAjDY;AAkDbK,gBAAY,sBAAY;AACpBC,eAAOC,SAAP,CAAiBC,QAAjB,CAA0B,EAACC,MAAM,OAAP,EAA1B,EAA2Cd,OAA3C,CAAmD,UAAUe,GAAV,EAAe;AAC9D,gBAAIA,QAAQC,MAAZ,EAAoBD,IAAIE,KAAJ;AACvB,SAFD;AAGH,KAtDY;AAuDbC,kBAAc,sBAAUC,GAAV,EAAe;AACzBrD,iBAASsD,IAAT,CAAcC,SAAd,GAA0B,EAA1B;AACA,YAAMC,SAASxD,SAASyD,aAAT,CAAuB,QAAvB,CAAf;AACAD,eAAOH,GAAP,GAAaA,GAAb;AACArD,iBAASsD,IAAT,CAAc9C,WAAd,CAA0BgD,MAA1B;AACH,KA5DY;AA6DbE,kBAAc,wBAAY;AACtB,eAAOb,OAAOc,OAAP,CAAeC,KAAf,CAAqBC,KAArB,EAAP;AACH,KA/DY;AAgEbC,SAAK,aAAUC,GAAV,EAAeC,QAAf,EAAyB;AAC1BC,gBAAQH,GAAR,CAAY,eAAeC,GAA3B;AACAE,gBAAQH,GAAR,CAAYE,QAAZ;AACH,KAnEY;AAoEbE,iBAAa,qBAAUnC,OAAV,EAAmBlC,QAAnB,EAA6B;AACtC,YAAIkC,WAAWA,QAAQoC,SAAR,CAAkBC,QAAlB,CAA2BvE,QAA3B,CAAf,EAAqD;AACjDkC,oBAAQoC,SAAR,CAAkBhC,MAAlB,CAAyBtC,QAAzB;AACH,SAFD,MAEO;AACH,kBAAMoB,wBAAsBc,OAAtB,qCAA6DlC,QAA7D,CAAN;AACH;AACJ,KA1EY;AA2EbwE,mBAAe,uBAAUjD,IAAV,EAAgBkD,QAAhB,EAA0BvC,OAA1B,EAAmC;AAC9C,eAAOX,KAAKmD,qBAAL,CAA2BD,QAA3B,EAAqCvC,OAArC,CAAP;AACH,KA7EY;AA8EbyC,WAAO,eAAUT,GAAV,EAAe;AAClB,YAAMS,QAAQC,MAAMtD,EAAN,CAAS,QAAT,CAAd;AACAqD,cAAME,SAAN,GAAkBX,GAAlB;AACH;AAjFY,CAAjB,C;;;;;;;;;ACAA,IAAMY,aAAa;AACfC,cAAU,WADK;AAEfC,WAAO,UAFQ;AAGfC,mBAAe,GAHA;AAIfC,WAAO,GAJQ;AAKfC,kBAAc,IALC;AAMfC,WAAO;AACHC,qBAAa;AADV,KANQ;AASfC,iBAAa,gDATE;AAUfC,UAAM;AACFC,0BAAkB,wBADhB;AAEFC,sBAAc;AAFZ,KAVS;AAcfC,SAAK,KAdU;AAefC,qBAAiB,0BAfF;AAgBfC,iBAAa,aAhBE;AAiBfC,YAAQ;AACJC,iBAAS,OADL;AAEJC,kBAAU,QAFN;AAGJC,iBAAS,KAHL;AAIJC,iBAAS;AAJL,KAjBO;AAuBf3F,cAAU;AACN4F,iBAAS,EADH;AAENC,kBAAU;AAFJ,KAvBK;AA2BfC,UAAM,CA3BS;AA4BfC,SAAK;AA5BU,CAAnB;;AA+BAxG,OAAOC,OAAP,GAAiBgF,UAAjB,C;;;;;;;;;AC/BA;;IAAYF,K;;AACZ;;IAAY0B,C;;AACZ;;;;;;;;AAIA,IAAMC,MAAM,KAAZ;AACA,IAAMC,iBAAiBC,uBAAvB;AACA,IAAMC,UAAUC,eAAeH,cAAf,CAAhB;AACA;;AAEA,eAAeI,gBAAf,CAAgCC,GAAhC,EAAqCC,QAArC,EAA+C;AAC3C,QAAI;AACAD,cAAME,cAAYF,GAAZ,GAAkBP,EAAEvB,QAApB,CAAN;AACA,YAAMiC,WAAW,MAAM5B,MAAMyB,GAAN,EAAWP,EAAElB,KAAb,CAAvB;AACA,YAAM6B,OAAO,MAAMD,SAASE,IAAT,EAAnB;AACA,YAAIF,SAASnB,MAAT,KAAoBS,EAAErB,aAA1B,EAAyC;AACrC,mBAAOkC,cAAcH,QAAd,CAAP;AACH;AACD,eAAOF,WAAWA,SAASG,IAAT,CAAX,GAA4BA,IAAnC;AACH,KARD,CAQE,OAAQG,GAAR,EAAa;AACXxC,cAAMX,GAAN,CAAUmD,GAAV;AACAxC,cAAMD,KAAN,CAAYyC,GAAZ;AACA,cAAM,IAAIhG,KAAJ,CAAUgG,GAAV,CAAN;AACH;AACJ;;AAED,SAAST,cAAT,CAAwBH,cAAxB,EAAwC;AACpC,QAAMa,iBAAiB,SAAvB;AACA,QAAMC,eAAe;AACjBC,cAAM,SADW,EACAC,QAAQ,SADR,EACmBC,KAAK;AADxB,KAArB;AAGA,QAAMC,cAAc;AAChBH,cAAM,OADU,EACDC,QAAQ,QADP,EACiBC,KAAK;AADtB,KAApB;AAGA,QAAM5B,SAAS;AACX0B,cAAM,SADK;AAEXC,gBAAQ,UAFG;AAGXC,aAAK,SAHM;AAIXE,iBAAS,SAJE;AAKXC,kBAAU,WALC;AAMXC,kBAAU;AANC,KAAf;;AASA,aAASC,UAAT,CAAoBjB,GAApB,EAAyBI,IAAzB,EAA+B;AAC3B,YAAMc,aAAa,CAACd,KAAKe,KAAL,IAAc,EAAf,EAAmBC,OAAnB,CAA2BZ,cAA3B,EAA2C,EAA3C,CAAnB;AACA,YAAMa,YAAYjB,KAAKkB,kBAAL,IAA2B,EAA7C;AACA,eAAO;AACHC,kBAAMnB,KAAKoB,WAAL,IAAoBpB,KAAKmB,IAAzB,IAAiCnB,KAAKqB,QAAtC,IAAkD,UADrD;AAEHzB,iBAAK0B,UAAUtB,KAAKJ,GAAL,IAAYA,GAAtB,CAFF;AAGH2B,sBAAUnB,eAAeoB,IAAf,CAAoBxB,KAAKe,KAAzB,CAHP;AAIHnC,oBAAQA,OAAOkC,UAAP,KAAsBA,UAJ3B;AAKHW,yBAAapB,aAAaS,UAAb,KAA4B,EALtC;AAMHY,wBAAYjB,YAAYK,UAAZ,KAA2B,MANpC;AAOHa,6BAAiBV,UAAUW,MAAV,IAAoB,EAPlC;AAQHC,2BAAe,EARZ;AASHvD,kBAAM0B,KAAK1B,IAAL,IAAa0B,KAAK1B,IAAL,CAAUwD,MAAV,CAAiB,UAAUxD,IAAV,EAAgB0B,IAAhB,EAAsB;AACtD,oBAAI+B,MAAMlB,WAAW,IAAX,EAAiBb,IAAjB,CAAV;AACA1B,qBAAK0D,UAAUD,IAAInC,GAAd,CAAL,IAA2BmC,GAA3B;AACA,uBAAOzD,IAAP;AACH,aAJkB,EAIhB,EAJgB;AAThB,SAAP;AAeH;;AAED,aAAS0D,SAAT,CAAmBpC,GAAnB,EAAwB;AACpB,eAAOA,IAAIoB,OAAJ,CAAY,oBAAZ,EAAkC,IAAlC,EAAwCA,OAAxC,CAAgD,UAAhD,EAA4D,GAA5D,CAAP;AACH;;AAED,WAAO,UAAUpB,GAAV,EAAe;AAClBA,cAAMA,IAAIqC,MAAJ,CAAWrC,IAAIzE,MAAJ,GAAa,CAAxB,MAA+B,GAA/B,GAAqCyE,GAArC,GAA2CA,MAAM,GAAvD;;AAEA,eAAOsC,QAAQC,OAAR,CAAgBvC,GAAhB,EAAqBwC,IAArB,CAA0B,UAAUC,GAAV,EAAe;AAC5C,mBAAOA,IAAIC,EAAJ,GAASD,IAAIpC,IAAJ,EAAT,GAAsBsC,QAAQC,MAAR,CAAeH,GAAf,CAA7B;AACH,SAFM,EAEJD,IAFI,CAEC,UAAUpC,IAAV,EAAgB;AACpB,gBAAM+B,MAAMlB,WAAWjB,GAAX,EAAgBI,IAAhB,CAAZ;AACA,mBAAO+B,GAAP;AACH,SALM,CAAP;AAMH,KATD;AAUH;;AAED,SAASvC,qBAAT,GAAiC;AAC7B,WAAO,UAAUI,GAAV,EAAehB,MAAf,EAAuB;AAC1B,YAAM6D,gBAAgB,0BAAtB;AACA,eAAO;AACHtB,kBAAMG,UAAU1B,IAAIoB,OAAJ,CAAYyB,aAAZ,EAA2B,IAA3B,CAAV,CADH;AAEH7C,iBAAK0B,UAAU1B,GAAV,CAFF;AAGH2B,sBAAU,KAHP;AAIH3C,oBAAQA,UAAU,EAJf;AAKH6C,yBAAaiB,SALV;AAMHhB,wBAAYgB,SANT;AAOHf,6BAAiBe,SAPd;AAQHhF,mBAAOgF,SARJ;AASHpE,kBAAMoE;AATH,SAAP;AAWH,KAbD;AAcH;;AAED,SAASC,WAAT,CAAqBC,GAArB,EAA0BC,OAA1B,EAAmCpD,OAAnC,EAA4CF,cAA5C,EAA4D;AACxD,QAAMuD,OAAO;AACTxE,cAAM,EADG;AAETyE,aAAK,aAAUnD,GAAV,EAAeI,IAAf,EAAqB;AACtB,gBAAMgD,SAAS,EAAf;AACAA,mBAAOC,QAAP,GAAkBH,KAAKxE,IAAL,CAAUsB,GAAV,CAAlB;AACAoD,mBAAOE,QAAP,GAAkBJ,KAAKxE,IAAL,CAAUsB,GAAV,IAAiBI,QAAQ8C,KAAKxE,IAAL,CAAUsB,GAAV,CAAR,IAA0BL,eAAeK,GAAf,CAA7D;AACA,mBAAOiD,QAAQM,GAAR,CAAY,EAAC7E,MAAMwE,KAAKxE,IAAZ,EAAZ,EAA+B8D,IAA/B,CAAoC,YAAY;AACnD,uBAAOY,MAAP;AACH,aAFM,CAAP;AAGH,SATQ;AAUT3H,gBAAQ,gBAAUuE,GAAV,EAAe;AACnB,mBAAOkD,KAAKxE,IAAL,CAAUsB,GAAV,CAAP;AACA,mBAAOiD,QAAQM,GAAR,CAAY,EAAC7E,MAAMwE,KAAKxE,IAAZ,EAAZ,CAAP;AACH,SAbQ;AAcT8E,iBAAS,iBAAUC,IAAV,EAAgB;AACrB,gBAAMC,UAAU,EAAhB;AACAD,iBAAKjI,OAAL,CAAa,UAAUwE,GAAV,EAAe;AACxB0D,wBAAQ1D,GAAR,IAAekD,KAAKxE,IAAL,CAAUsB,GAAV,KAAkBL,eAAeK,GAAf,CAAjC;AACH,aAFD;AAGAkD,iBAAKxE,IAAL,GAAYgF,OAAZ;;AAEA,mBAAOT,QAAQM,GAAR,CAAY,EAAC7E,MAAMwE,KAAKxE,IAAZ,EAAZ,EAA+B8D,IAA/B,CAAoC,YAAY;AACnD,uBAAOU,KAAKxE,IAAZ;AACH,aAFM,CAAP;AAGH,SAxBQ;AAyBTiF,sBAAc,sBAAU3D,GAAV,EAAe;AACzB,mBAAOH,QAAQG,GAAR,EAAa4D,KAAb,CAAmB,UAAUnB,GAAV,EAAe;AACrC;AACA,oBAAMrC,OAAOyD,EAAEC,KAAF,CAAQZ,KAAKxE,IAAL,CAAUsB,GAAV,CAAR,KAA2BL,eAAeK,GAAf,CAAxC;AACAI,qBAAKtC,KAAL,GAAa,CAAC2E,eAAelI,KAAf,GAAuBkI,IAAIsB,OAA3B,GAAqCtB,IAAIuB,UAA1C,KAAyDvE,EAAEV,WAAxE;AACA,uBAAOqB,IAAP;AACH,aALM,EAKJoC,IALI,CAKC,UAAUpC,IAAV,EAAgB;AACpB,uBAAO8C,KAAKC,GAAL,CAASnD,GAAT,EAAcI,IAAd,CAAP;AACH,aAPM,CAAP;AAQH,SAlCQ;AAmCT6D,yBAAiB,2BAAY;AACzB,gBAAIC,WAAW,EAAf;AACAL,cAAErI,OAAF,CAAU0H,KAAKxE,IAAf,EAAqB,UAAUe,CAAV,EAAaO,GAAb,EAAkB;AACnCkE,yBAAS7J,IAAT,CAAc6I,KAAKS,YAAL,CAAkB3D,GAAlB,CAAd;AACH,aAFD;AAGA,mBAAOgD,IAAImB,IAAJ,CAASD,QAAT,CAAP;AACH;AAzCQ,KAAb;;AA4CA,WAAOhB,IAAP;AACH;;AAED;AACA,SAASkB,WAAT,CAAqBC,KAArB,EAA4BpB,OAA5B,EAAqC;AACjCoB,UAAMC,OAAN,GAAgB;AACZC,qBAAa,EADD;AAEZC,sBAAc/E,EAAEZ;AAFJ,KAAhB;;AAKA,sBAAW,EAACyF,SAASD,MAAMC,OAAhB,EAAX,EAAqC9B,IAArC,CAA0C,UAAUiC,OAAV,EAAmB;AACzDJ,cAAMC,OAAN,GAAgBG,QAAQH,OAAxB;AACAD,cAAMK,SAAN,CAAgBjF,EAAEX,eAAlB,EAAmCuF,MAAMC,OAAzC;AACH,KAHD;;AAKA,sBAAUK,WAAV,CAAsB,UAAUF,OAAV,EAAmB;AACrC,YAAIA,QAAQH,OAAZ,EAAqB;AACjBD,kBAAMC,OAAN,GAAgBG,QAAQH,OAAR,CAAgBhB,QAAhC;AACAe,kBAAMK,SAAN,CAAgBjF,EAAEX,eAAlB,EAAmCuF,MAAMC,OAAzC;AACH;AACJ,KALD;AAMH;;AAED;AACA,SAASM,QAAT,CAAkB1B,IAAlB,EAAwBD,OAAxB,EAAiCoB,KAAjC,EAAwC;AACpCnB,SAAKxE,IAAL,GAAY,EAAZ;;AAEAuE,YAAQ4B,GAAR,CAAY,EAACnG,MAAMwE,KAAKxE,IAAZ,EAAZ,EAA+B8D,IAA/B,CAAoC,UAAUiC,OAAV,EAAmB;AACnDvB,aAAKxE,IAAL,GAAY+F,QAAQ/F,IAApB;AACA2F,cAAMK,SAAN,CAAgBjF,EAAEf,IAAF,CAAOC,gBAAvB,EAAyCuE,KAAKxE,IAA9C;AACA2F,cAAMK,SAAN,CAAgBjF,EAAEf,IAAF,CAAOE,YAAvB,EAAqCsE,KAAKxE,IAA1C;AACH,KAJD;;AAMAuE,YAAQ6B,SAAR,CAAkBH,WAAlB,CAA8B,UAAUF,OAAV,EAAmB;AAC7C,YAAIA,QAAQ/F,IAAZ,EAAkB;AACdwE,iBAAKxE,IAAL,GAAY+F,QAAQ/F,IAAR,CAAa4E,QAAzB;AACAe,kBAAMK,SAAN,CAAgBjF,EAAEf,IAAF,CAAOE,YAAvB,EAAqCsE,KAAKxE,IAA1C;AACH;AACJ,KALD;AAMH;;AAED,SAAS4B,aAAT,CAAuBH,QAAvB,EAAiC;AAC7B,QAAMrC,QAAQC,MAAMtD,EAAN,CAAS,QAAT,CAAd;AACAsD,UAAM3C,SAAN,CAAgB9B,QAAhB,EAA0B,uBAA1B;AACA,WAAOwE,MAAME,SAAN,GAAkBmC,SAAS6D,UAAT,IAAuB7D,QAAhD;AACH;;AAED,SAASD,QAAT,CAAkBF,GAAlB,EAAuB;AACnB,QAAIA,OAAOA,IAAI+E,QAAJ,MAAgBtF,EAAEnB,YAAlB,GAAiCoB,GAAjC,CAAX,EAAoD;AAChD,eAAOM,IAAIoB,OAAJ,MAAe3B,EAAEnB,YAAjB,GAAgCoB,GAAhC,OAA0CD,EAAEpB,KAA5C,GAAoDqB,GAApD,CAAP;AACH;AACD,WAAOM,GAAP;AACH;;AAED,IAAMsC,UAAU;AACZ0C,UAAM,gBAAY;AACdZ,oBAAYC,KAAZ,EAAmBpB,OAAnB;AACA2B,iBAAS1B,IAAT,EAAeD,OAAf,EAAwBoB,KAAxB;AACH,KAJW;AAKZY,eAAW;AACPC,2BAAmB,6BAAM;AACrB,mBAAOnH,MAAM7E,aAAN,CAAoB,iBAApB,EAAuC,wBAAvC,CAAP;AACH,SAHM;AAIPiM,4BAAoB,8BAAM;AACtB,mBAAOpH,MAAM7E,aAAN,CAAoB,kBAApB,EAAwC,wBAAxC,CAAP;AACH;AANM,KALC;AAaZ;AACAkM,aAAS,iBAAUpF,GAAV,EAAeC,QAAf,EAAyB;AAC9B,aAAKsC,OAAL,CAAavC,GAAb,EAAkBC,QAAlB;AACH,KAhBW;AAiBZoF,iBAAa,qBAAUrF,GAAV,EAAeC,QAAf,EAAyB;AAClC,aAAKsC,OAAL,CAAavC,GAAb,EAAkBC,QAAlB;AACH,KAnBW;AAoBZqF,cAAU,kBAAUtF,GAAV,EAAeC,QAAf,EAAyB;AAC/B,aAAKsC,OAAL,CAAavC,GAAb,EAAkBC,QAAlB;AACH,KAtBW;AAuBZsC,aAASxC,iBAAiBC,GAAjB,EAAsBC,QAAtB,CAvBG;AAwBZ;;;;;;;;;;;;;;;;;AAiBA;;;;;;;;;;;;;;;;AAgBAoE,WAAO;AACHkB,uBAAe,uBAAUC,SAAV,EAAqBC,MAArB,EAA6B;AACxCjJ,mBAAO+I,aAAP,CAAqB,IAAIG,WAAJ,CAAgBF,SAAhB,EAA2B,EAACC,QAAQA,MAAT,EAA3B,CAArB;AACH,SAHE;AAIHE,YAAI,YAAUH,SAAV,EAAqBvF,QAArB,EAA+B;AAC/BzD,mBAAOoJ,gBAAP,CAAwBJ,SAAxB,EAAmC,UAAUK,CAAV,EAAa;AAC5C5F,yBAAS4F,CAAT,EAAYA,EAAEJ,MAAd;AACH,aAFD;AAGH;AARE,KAzDK;AAmEZK,oBAAgB,wBAAU9C,GAAV,EAAe;AAC3B,YAAI/F,UAAUd,OAAOc,OAAP,CAAeC,KAA7B;;AAEA,iBAAS6I,gBAAT,CAA0BC,QAA1B,EAAoC;AAChC,mBAAO,UAAU5F,IAAV,EAAgB;AACnB,oBAAIjE,OAAO8J,OAAP,CAAeC,SAAnB,EAA8B;AAC1BF,6BAASpD,MAAT,CAAgBqD,QAAQC,SAAxB;AACH,iBAFD,MAEO;AACHF,6BAASG,OAAT,CAAiB/F,IAAjB;AACH;AACJ,aAND;AAOH;;AAED,eAAO;AACH0E,uBAAW3I,OAAOc,OAAP,CAAe6H,SADvB;AAEHD,iBAAK,aAAUuB,IAAV,EAAgB;AACjB,oBAAIJ,WAAWhD,IAAIqD,KAAJ,EAAf;AACApJ,wBAAQ4H,GAAR,CAAYuB,IAAZ,EAAkBL,iBAAiBC,QAAjB,CAAlB;AACA,uBAAOA,SAASM,OAAhB;AACH,aANE;AAOH/C,iBAAK,aAAUkB,OAAV,EAAmB;AACpB,oBAAIuB,WAAWhD,IAAIqD,KAAJ,EAAf;AACApJ,wBAAQsG,GAAR,CAAYkB,OAAZ,EAAqBsB,iBAAiBC,QAAjB,CAArB;AACA,uBAAOA,SAASM,OAAhB;AACH;AAXE,SAAP;AAaH,KA7FW;AA8FZC,cAAU;AACN/K,iBAAS,iBAAUgL,GAAV,EAAeC,QAAf,EAAyB;AAC9B,gBAAID,GAAJ,EAAS;AACL,oBAAIA,IAAIhL,OAAR,EAAiB;AACbgL,wBAAIhL,OAAJ,CAAYiL,QAAZ;AACH,iBAFD,MAEO,IAAI,YAAYD,GAAZ,IAAmBA,IAAIjL,MAAJ,GAAa,CAApC,EAAuC;AAC1C,yBAAK,IAAIO,IAAI,CAAb,EAAgBA,IAAI0K,IAAIjL,MAAxB,EAAgCO,GAAhC,EAAqC;AACjC2K,iCAASD,IAAI1K,CAAJ,CAAT,EAAiBA,CAAjB;AACH;AACJ,iBAJM,MAIA;AACH,yBAAK,IAAI4K,GAAT,IAAgBF,GAAhB,EAAqB;AACjB,4BAAIA,IAAIG,cAAJ,CAAmBD,GAAnB,CAAJ,EAA6B;AACzBD,qCAASD,IAAIE,GAAJ,CAAT,EAAmBA,GAAnB;AACH;AACJ;AACJ;AACJ;AACD,mBAAOF,GAAP;AACH,SAlBK;AAmBN1C,eAAO,eAAU0C,GAAV,EAAe;AAClB,mBAAOI,KAAKC,KAAL,CAAWD,KAAKE,SAAL,CAAeN,GAAf,CAAX,CAAP;AACH;AArBK;AA9FE,CAAhB;;AAuHAxN,OAAOC,OAAP,GAAiBqJ,OAAjB,C;;;;;;;;;AC3TA,IAAMrF,UAAUd,OAAOc,OAAP,CAAe8J,IAA/B;;AAEA,IAAMxE,UAAU,eAAVA,OAAU,CAAO6D,IAAP,EAAanG,QAAb,EAA0B;AACtC,QAAME,WAAW,MAAMF,QAAvB;AACH,CAFD;;AAIAjH,OAAOC,OAAP,GAAiB;AACb6L,eAAW3I,OAAOc,OAAP,CAAe6H,SADb;AAEbD,SAAK,aAACuB,IAAD,EAAU;AACX7D,gBAAQ6D,IAAR,EAAcnJ,QAAQ4H,GAAR,CAAYuB,IAAZ,CAAd;AACH,KAJY;AAKb7C,SAAK,aAAC6C,IAAD,EAAU;AACX7D,gBAAQ6D,IAAR,EAAcnJ,QAAQsG,GAAR,CAAY6C,IAAZ,CAAd;AACH;AAPY,CAAjB,C;;;;;;;;;ACNA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMY,cAAc,2DAApB;AACA,IAAMC,SAAS,gBAAMxM,EAAN,CAAS,cAAT,CAAf;AACA,IAAMyM,cAAc,gBAAMzM,EAAN,CAAS,kBAAT,CAApB;AACA,IAAMgF,IAAI,kBAAQA,CAAlB;;AAEA,SAAS0H,WAAT,CAAqB9L,OAArB,EAA8B;AAC1B,QAAM+L,UAAU9N,SAASyD,aAAT,CAAuB,KAAvB,CAAhB;AACAqK,YAAQC,GAAR,GAAc,YAAd;AACAD,YAAQzK,GAAR,GAAc,iBAAd;AACAyK,YAAQjN,SAAR,GAAoB,sBAApB;AACA,QAAI,CAAC,gBAAMY,gBAAN,CAAuB,uBAAvB,CAAL,EAAsD;AAClD,eAAOM,QAAQwC,qBAAR,CAA8B,UAA9B,EAA0CuJ,OAA1C,CAAP;AACH;AACJ;;AAED,SAASE,oBAAT,GAAgC;AAC5B,QAAMxJ,QAAQ,gBAAMrD,EAAN,CAAS,QAAT,CAAd;AACA,QAAM8M,WAAWjO,SAASyD,aAAT,CAAuB,GAAvB,CAAjB;AACAwK,aAASC,IAAT,GAAgBrL,OAAOC,SAAP,CAAiBqL,MAAjB,CAAwB,cAAxB,CAAhB;AACAF,aAASvJ,SAAT,GAAqBgJ,WAArB;AACAlJ,UAAMhE,WAAN,CAAkByN,QAAlB;AACApL,WAAOuL,aAAP,CAAqBC,YAArB,CAAkC,EAACC,MAAM,YAAP,EAAlC;AACAzL,WAAOuL,aAAP,CAAqBG,uBAArB,CAA6C,EAAC1G,OAAO,OAAR,EAA7C;AACH;;AAED,SAAS9E,QAAT,CAAkByL,KAAlB,EAAyB;AACrB,oBAAM1K,GAAN,CAAU,kBAAV,EAA8B0K,KAA9B;AACAA,UAAMtM,OAAN,CAAc,gBAAQ;AAClB,0BAAQ4J,OAAR,CAAgB2C,IAAhB,EAAsBC,SAAtB;AACH,KAFD;AAGH;;AAED,SAASA,SAAT,CAAmBF,KAAnB,EAA0B;AACtB,QAAMG,WAAWH,MAAMvG,IAAvB;AACA,QAAM7G,OAAO,gBAAMD,EAAN,CAAS,mBAAT,CAAb;AACA,QAAMqJ,QAAQpJ,KAAKwN,SAAL,CAAe,IAAf,CAAd;AACA,QAAMH,OAAOjE,MAAMvK,aAAN,CAAoB,kCAApB,CAAb;AACAwO,SAAK/J,SAAL,GAAiBiK,QAAjB;AACAH,UAAMpJ,IAAN,CAAWyJ,GAAX,CAAe,UAAChG,GAAD,EAAMiG,KAAN,EAAgB;AAC3B,YAAMC,UAAUvE,MAAMvK,aAAN,CAAoB,kCAApB,CAAhB;AACA8O,gBAAQrK,SAAR,GAAqBmE,GAArB;;AAEA;;AAEH,KAND;AAOA+E,gBAAYpN,WAAZ,CAAwBgK,KAAxB;AACA;;;AAGA;;;;;;;;;;AAUH;;AAED,SAASwE,gBAAT,CAA0BlI,IAA1B,EAAgCkE,OAAhC,EAAyC;AACrC,QAAMiE,eAAenI,QAAQA,KAAKiB,SAAL,CAAerB,GAA5C;AACA,sBAAQsF,QAAR,CAAiBiD,YAAjB,EAA+BjE,QAAQkE,IAAvC,EAA6ClE,QAAQmE,KAArD,EAA4DC,aAA5D;AACH;;AAED,SAASA,aAAT,CAAuBtI,IAAvB,EAA6B;AACzB,QAAMuI,UAAUrP,SAASyD,aAAT,CAAuB,KAAvB,CAAhB;AACA,QAAM6L,QAAQC,kBAAkBzI,IAAlB,CAAd;AACA0I,eAAWF,KAAX;AACA,QAAIA,MAAMG,mBAAV,EAA+B;AAC3BJ,gBAAQ9L,SAAR,GAAoB,qBAAOpD,QAAP,CAAgB6F,QAAhB,CAAyBsJ,KAAzB,EAAgCxI,IAAhC,CAApB;AACH,KAFD,MAEO;AACHuI,gBAAQ9L,SAAR,GAAoB,qBAAOpD,QAAP,CAAgB4F,OAAhB,CAAwBuJ,KAAxB,EAA+BxI,IAA/B,CAApB;AACH;AACDuI,YAAQxO,SAAR,GAAoB,gBAAgBiG,KAAKgD,MAAL,CAAY4F,WAAZ,EAApC;AACA/B,WAAOnN,WAAP,CAAmB6O,OAAnB;;AAEA,QAAIvI,KAAKgD,MAAL,KAAgB,SAApB,EAA+B;AAC3BjH,eAAOuL,aAAP,CAAqBC,YAArB,CAAkC,EAACC,MAAM,GAAP,EAAlC;AACAzL,eAAOuL,aAAP,CAAqBG,uBAArB,CAA6C,EAAC1G,OAAO,qBAAOnC,MAAP,CAAcoB,KAAKgD,MAAnB,CAAR,EAA7C;AACH,KAHD,MAGO,IAAIhD,KAAKgD,MAAL,KAAgB,UAApB,EAAgC;AACnCjH,eAAOuL,aAAP,CAAqBC,YAArB,CAAkC,EAACC,MAAM,GAAP,EAAlC;AACAzL,eAAOuL,aAAP,CAAqBG,uBAArB,CAA6C,EAAC1G,OAAO,qBAAOnC,MAAP,CAAcoB,KAAKgD,MAAnB,CAAR,EAA7C;AACH;AACJ;;AAED,SAAS0F,UAAT,CAAoBF,KAApB,EAA2B;AACvBA,UAAMG,mBAAN,GAA4BH,MAAMG,mBAAN,IAA6BH,MAAMG,mBAAN,CAA0BE,QAA1B,GAAqC7H,OAArC,CAA6C,IAA7C,EAAmD,EAAnD,CAAzD;AACAwH,UAAMM,aAAN,GAAsBN,MAAMM,aAAN,IAAuBN,MAAMM,aAAN,CAAoBD,QAApB,GAA+B7H,OAA/B,CAAuC,IAAvC,EAA6C,EAA7C,CAA7C;AACAwH,UAAMO,eAAN,GAAwBP,MAAMO,eAAN,IAAyBP,MAAMO,eAAN,CAAsBF,QAAtB,GAAiC7H,OAAjC,CAAyC,IAAzC,EAA+C,EAA/C,CAAjD;AACH;;AAED,SAASyH,iBAAT,CAA2BzI,IAA3B,EAAiC;AAC7B,WAAO;AACH2I,6BAAqBK,gBAAgBhJ,IAAhB,EAAsB,YAAtB,EAAoC,MAApC,CADlB;AAEHiJ,mBAAWjJ,KAAKkJ,eAFb;AAGHtJ,aAAKI,KAAKJ,GAHP;AAIHuJ,gBAAQH,gBAAgBhJ,IAAhB,EAAsB,MAAtB,CAJL;AAKHoJ,kBAAUJ,gBAAgBhJ,IAAhB,EAAsB,MAAtB,CALP;AAMHqJ,0BAAkBL,gBAAgBhJ,IAAhB,EAAsB,kBAAtB,CANf;AAOHsJ,mBAAWtJ,QAAQA,KAAKuG,cAAL,CAAoB,WAApB,CAAR,IAA4CvG,KAAKuJ,SAAL,CAAeC,KAAf,CAAqB,CAArB,CAA5C,IAAuExJ,KAAKuJ,SAAL,CAAeC,KAAf,CAAqB,CAArB,EAAwBvM,GAPvG;AAQH6L,uBAAeE,gBAAgBhJ,IAAhB,EAAsB,YAAtB,EAAoC,QAApC,CARZ;AASH+I,yBAAiBC,gBAAgBhJ,IAAhB,EAAsB,YAAtB,EAAoC,SAApC;AATd,KAAP;AAWH;;AAED,SAASgJ,eAAT,CAAyBhJ,IAAzB,EAA+ByJ,QAA/B,EAAyCC,UAAzC,EAAqD;AACjD,SAAK,IAAIhO,IAAI,CAAb,EAAgBA,IAAIsE,KAAK2J,OAAL,CAAaxO,MAAjC,EAAyCO,GAAzC,EAA8C;AAC1C,YAAMkO,WAAW5J,KAAK2J,OAAL,CAAajO,CAAb,CAAjB;AACA,YAAIkO,SAASrD,cAAT,CAAwB,QAAxB,KAAqCqD,SAASC,MAAT,CAAgB,CAAhB,EAAmBtD,cAAnB,CAAkCkD,QAAlC,CAAzC,EAAsF;AAClF,mBAAOG,SAASC,MAAT,CAAgB,CAAhB,EAAmBJ,QAAnB,CAAP;AACH,SAFD,MAEO,IAAIG,SAASrD,cAAT,CAAwB,mBAAxB,CAAJ,EAAkD;AACrD,mBAAOqD,SAASE,iBAAT,CAA2BX,MAA3B,CAAkC,CAAlC,EAAqCM,QAArC,CAAP;AACH,SAFM,MAEA,IAAIG,SAASrD,cAAT,CAAwBkD,QAAxB,CAAJ,EAAuC;AAC1C,mBAAOG,SAASG,UAAT,CAAoBhC,GAApB,CAAwB,gBAAQ;AACnC,oBAAIiC,KAAK7I,IAAL,KAAc,cAAlB,EAAkC;AAC9B,2BAAO6I,KAAKN,UAAL,CAAP;AACH;AACJ,aAJM,CAAP;AAKH;AACJ;AACJ;;AAED;;;;;;;;;;;;;;;;;AAiBA,IAAMO,MAAM;AACRrF,UAAM,gBAAY;AACd7I,eAAO8J,OAAP,CAAeqE,WAAf,CAA2B,EAACC,IAAI,YAAL,EAA3B,EAA+C,UAAUpK,QAAV,EAAoB;AAC/D,4BAAM/C,GAAN,CAAU,mBAAV,EAA+B+C,SAASqK,WAAxC;AACA,gBAAIrK,YAAYA,SAASqK,WAAT,CAAqBjP,MAArB,GAA8B,CAA9C,EAAiD;AAC7Cc,yBAAS8D,SAASqK,WAAlB;AACH,aAFD,MAEO;AACHlD;AACH;AACJ,SAPD;AAQH;AAVO,CAAZ;;AAaAhO,SAASsM,gBAAT,CAA0B,kBAA1B,EAA8C,kBAAQX,SAAR,CAAkBC,iBAAhE,E","file":"popup.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 5336d67c851b5846ec2a","module.exports = {\n    buildTemplate: (selector, containerSelector) => {\n        const templateImport = document.querySelector(selector).import;\n        const template = templateImport.documentElement.querySelector('template');\n        const cloneTemplate = document.importNode(template.content, true);\n        document.querySelector(containerSelector).appendChild(cloneTemplate);\n    },\n    addclass: (elm, newclass) => {\n        const classes = elm.className.split(' ');\n        classes.push(newclass);\n        if (elm.className === newClass) {\n            throw Error(`class name: ${newclass} has already been defined!`);\n        } else {\n            elm.className = classes.join(' ');\n        }\n    },\n    qs(selector, node) {\n        return (node || document).querySelector(selector);\n    },\n    qsAll: function qsAll(selector, node) {\n        var nodeList = (node || document).querySelectorAll(selector);\n        return this.toArray(nodeList);\n    },\n    isAlreadyCreated: function (selector, node) {\n        return node || document.querySelector(selector);\n    },\n    toArray: function (node) {\n        return Array.prototype.slice.call(node);\n    },\n    clearNode: function (element, selector) {\n        var nodes = this.qsAll(selector) || element;\n        if (nodes.length > 0) {\n            [].forEach.call(nodes, function (node) {\n                return node && node.remove();\n            });\n        } else {\n            if (element && (!element instanceof HTMLDocument)) {\n                return element && element.remove();\n            }\n        }\n\n    },\n    getInputsValues: function (form) {\n        let arrayValues = [];\n        for (var i = 0; i < form.elements.length; i++) {\n            var input = form[i];\n            arrayValues.push(input.value);\n        }\n        return arrayValues;\n    },\n    closePopUp: function () {\n        chrome.extension.getViews({type: \"popup\"}).forEach(function (win) {\n            if (win !== window) win.close();\n        });\n    },\n    createIframe: function (src) {\n        document.body.innerHTML = '';\n        const iframe = document.createElement('iframe');\n        iframe.src = src;\n        document.body.appendChild(iframe);\n    },\n    clearStorage: function () {\n        return chrome.storage.local.clear();\n    },\n    log: function (msg, callBack) {\n        console.log('======>>> ' + msg);\n        console.log(callBack);\n    },\n    removeClass: function (element, selector) {\n        if (element && element.classList.contains(selector)) {\n            element.classList.remove(selector);\n        } else {\n            throw Error(`removeClass: ${element} already removed this class: ${selector}`);\n        }\n    },\n    insertElement: function (node, position, element) {\n        return node.insertAdjacentElement(position, element);\n    },\n    error: function (msg) {\n        const error = Utils.qs('.error');\n        error.innerText = msg;\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./js/core/Utils.js","const configJSON = {\n    API_JSON: '/api/json',\n    HTTPS: 'https://',\n    HTTP_CODE_401: 401,\n    SLASH: '/',\n    DOUBLE_SLASH: '//',\n    fetch: {\n        credentials: 'include'\n    },\n    SERVER_DOWN: 'Must be a timeout! Server is down? ErrorCode: ',\n    jobs: {\n        JOBS_INITIALIZED: 'Jobs::jobs.initialized',\n        JOBS_CHANGED: 'Jobs::jobs.changed'\n    },\n    all: 'all',\n    OPTIONS_CHANGED: 'Options::options.changed',\n    Unreachable: 'Unreachable',\n    status: {\n        SUCCESS: 'green',\n        UNSTABLE: 'orange',\n        FAILURE: 'red',\n        ABORTED: 'grey'\n    },\n    template: {\n        default: '',\n        upstream: ''\n    },\n    ZERO: 0,\n    ONE: 1\n};\n\nmodule.exports = configJSON;\n\n\n\n// WEBPACK FOOTER //\n// ./js/core/ConfigJSON.js","import * as Utils from \"./Utils\";\nimport * as _ from \"./ConfigJSON\";\nimport { get as  getStorage } from \"./Storage\";\nimport { set as setStorage } from \"./Storage\";\nimport onChanged from \"./Storage\";\n\nconst API = 'api';\nconst defaultJobData = defaultJobDataService();\nconst jenkins = jenkinsService(defaultJobData);\n//const Jobs = JobsService(req, Storage, jenkins, defaultJobData);\n\nasync function requestWithAsync(url, callback) {\n    try {\n        url = cleanUrl(`${url}${_.API_JSON}`);\n        const response = await fetch(url, _.fetch);\n        const data = await response.json();\n        if (response.status === _.HTTP_CODE_401) {\n            return errorResponse(response);\n        }\n        return callback ? callback(data) : data;\n    } catch  (err) {\n        Utils.log(err);\n        Utils.error(err);\n        throw new Error(err);\n    }\n}\n\nfunction jenkinsService(defaultJobData) {\n    const buildingRegExp = /_anime$/;\n    const colorToClass = {\n        blue: 'success', yellow: 'warning', red: 'danger'\n    };\n    const colorToIcon = {\n        blue: 'green', yellow: 'yellow', red: 'red'\n    };\n    const status = {\n        blue: 'Success',\n        yellow: 'Unstable',\n        red: 'Failure',\n        aborted: 'Aborted',\n        notbuilt: 'Not built',\n        disabled: 'Disabled'\n    };\n\n    function jobMapping(url, data) {\n        const basicColor = (data.color || '').replace(buildingRegExp, '');\n        const lastBuild = data.lastCompletedBuild || {};\n        return {\n            name: data.displayName || data.name || data.nodeName || 'All jobs',\n            url: decodeURI(data.url || url),\n            building: buildingRegExp.test(data.color),\n            status: status[basicColor] || basicColor,\n            statusClass: colorToClass[basicColor] || '',\n            statusIcon: colorToIcon[basicColor] || 'grey',\n            lastBuildNumber: lastBuild.number || '',\n            lastBuildTime: '',\n            jobs: data.jobs && data.jobs.reduce(function (jobs, data) {\n                var job = jobMapping(null, data);\n                jobs[subJobKey(job.url)] = job;\n                return jobs;\n            }, {})\n        };\n    }\n\n    function subJobKey(url) {\n        return url.replace(/^.+?\\/job\\/(.+)\\/$/, \"$1\").replace(/\\/job\\//g, \"/\");\n    }\n\n    return function (url) {\n        url = url.charAt(url.length - 1) === '/' ? url : url + '/';\n\n        return Jenkins.request(url).then(function (res) {\n            return res.ok ? res.json() : Promise.reject(res);\n        }).then(function (data) {\n            const job = jobMapping(url, data);\n            return job;\n        });\n    }\n}\n\nfunction defaultJobDataService() {\n    return function (url, status) {\n        const jobNameRegExp = /.*\\/job\\/([^/]+)(\\/.*|$)/;\n        return {\n            name: decodeURI(url.replace(jobNameRegExp, '$1')),\n            url: decodeURI(url),\n            building: false,\n            status: status || '',\n            statusClass: undefined,\n            statusIcon: undefined,\n            lastBuildNumber: undefined,\n            error: undefined,\n            jobs: undefined\n        };\n    }\n}\n\nfunction JobsService(req, Storage, jenkins, defaultJobData) {\n    const Jobs = {\n        jobs: {},\n        add: function (url, data) {\n            const result = {};\n            result.oldValue = Jobs.jobs[url];\n            result.newValue = Jobs.jobs[url] = data || Jobs.jobs[url] || defaultJobData(url);\n            return Storage.set({jobs: Jobs.jobs}).then(function () {\n                return result;\n            });\n        },\n        remove: function (url) {\n            delete Jobs.jobs[url];\n            return Storage.set({jobs: Jobs.jobs});\n        },\n        setUrls: function (urls) {\n            const newJobs = {};\n            urls.forEach(function (url) {\n                newJobs[url] = Jobs.jobs[url] || defaultJobData(url);\n            });\n            Jobs.jobs = newJobs;\n\n            return Storage.set({jobs: Jobs.jobs}).then(function () {\n                return Jobs.jobs;\n            });\n        },\n        updateStatus: function (url) {\n            return jenkins(url).catch(function (res) {\n                // On error, keep existing data or create default one\n                const data = $.clone(Jobs.jobs[url]) || defaultJobData(url);\n                data.error = (res instanceof Error ? res.message : res.statusText) || _.Unreachable;\n                return data;\n            }).then(function (data) {\n                return Jobs.add(url, data);\n            });\n        },\n        updateAllStatus: function () {\n            var promises = [];\n            $.forEach(Jobs.jobs, function (_, url) {\n                promises.push(Jobs.updateStatus(url));\n            });\n            return req.when(promises);\n        }\n    };\n\n    return Jobs;\n}\n\n// Initialize options and listen for changes\nfunction initOptions(scope, Storage) {\n    scope.options = {\n        refreshTime: 60,\n        notification: _.all\n    };\n\n    getStorage({options: scope.options}).then(function (objects) {\n        scope.options = objects.options;\n        scope.broadcast(_.OPTIONS_CHANGED, scope.options);\n    });\n\n    onChanged.addListener(function (objects) {\n        if (objects.options) {\n            scope.options = objects.options.newValue;\n            scope.broadcast(_.OPTIONS_CHANGED, scope.options);\n        }\n    });\n}\n\n// Initialize jobs and listen for changes\nfunction initJobs(Jobs, Storage, scope) {\n    Jobs.jobs = {};\n\n    Storage.get({jobs: Jobs.jobs}).then(function (objects) {\n        Jobs.jobs = objects.jobs;\n        scope.broadcast(_.jobs.JOBS_INITIALIZED, Jobs.jobs);\n        scope.broadcast(_.jobs.JOBS_CHANGED, Jobs.jobs);\n    });\n\n    Storage.onChanged.addListener(function (objects) {\n        if (objects.jobs) {\n            Jobs.jobs = objects.jobs.newValue;\n            scope.broadcast(_.jobs.JOBS_CHANGED, Jobs.jobs);\n        }\n    });\n}\n\nfunction errorResponse(response) {\n    const error = Utils.qs('.error');\n    Utils.clearNode(document, '.omj__loading-spinner');\n    return error.innerText = response.statusText || response;\n}\n\nfunction cleanUrl(url) {\n    if (url && url.includes(`${_.DOUBLE_SLASH}${API}`)) {\n        return url.replace(`${_.DOUBLE_SLASH}${API}`, `${_.SLASH}${API}`);\n    }\n    return url;\n}\n\nconst Jenkins = {\n    init: function () {\n        initOptions(scope, Storage);\n        initJobs(Jobs, Storage, scope);\n    },\n    initDebug: {\n        buildLeftTemplate: () => {\n            return Utils.buildTemplate('#templates_left', '.omj-mainWrapper__Jobs');\n        },\n        buildRightTemplate: () => {\n            return Utils.buildTemplate('#templates_right', '.omj-mainWrapper__Jobs');\n        }\n    },\n    /*Jobs: Jobs,*/\n    getJobs: function (url, callback) {\n        this.request(url, callback);\n    },\n    getJobsInfo: function (url, callback) {\n        this.request(url, callback);\n    },\n    getBuild: function (url, callback) {\n        this.request(url, callback);\n    },\n    request: requestWithAsync(url, callback),\n    /*request: function (url, callback) {\n        url = cleanUrl(`${url}${_.API_JSON}`);\n        fetch(url, _.fetch).then(function (response) {\n            if (response.status === _.HTTP_CODE_401) {\n                return errorResponse(response);\n            } else {\n                Utils.clearNode(document, '.omj__loading-spinner');\n                Utils.clearNode(document,  '.omj__form-style');\n                response.json().then(function (data) {\n                    return callback ? callback(data) : data;\n                });\n            }\n        }).catch(function (error) {\n            errorResponse(error);\n            Utils.log(`${_.SERVER_DOWN}${error}`);\n        });\n    },*/\n    /*req: {\n        defer: function () {\n            var defer = {};\n            defer.promise = new Promise(function (resolve, reject) {\n                defer.resolve = resolve;\n                defer.reject = reject;\n            });\n            return defer;\n        },\n        when: function (value) {\n            return Promise.resolve(value);\n        },\n        all: function (iterable) {\n            return Promise.all(iterable);\n        }\n    },*/\n    scope: {\n        dispatchEvent: function (eventName, detail) {\n            window.dispatchEvent(new CustomEvent(eventName, {detail: detail}));\n        },\n        on: function (eventName, callback) {\n            window.addEventListener(eventName, function (e) {\n                callback(e, e.detail);\n            });\n        }\n    },\n    StorageService: function (req) {\n        var storage = chrome.storage.local;\n\n        function promisedCallback(deferred) {\n            return function (data) {\n                if (chrome.runtime.lastError) {\n                    deferred.reject(runtime.lastError);\n                } else {\n                    deferred.resolve(data);\n                }\n            };\n        }\n\n        return {\n            onChanged: chrome.storage.onChanged,\n            get: function (keys) {\n                var deferred = req.defer();\n                storage.get(keys, promisedCallback(deferred));\n                return deferred.promise;\n            },\n            set: function (objects) {\n                var deferred = req.defer();\n                storage.set(objects, promisedCallback(deferred));\n                return deferred.promise;\n            }\n        };\n    },\n    _forEach: {\n        forEach: function (obj, iterator) {\n            if (obj) {\n                if (obj.forEach) {\n                    obj.forEach(iterator);\n                } else if ('length' in obj && obj.length > 0) {\n                    for (let i = 0; i < obj.length; i++) {\n                        iterator(obj[i], i);\n                    }\n                } else {\n                    for (let key in obj) {\n                        if (obj.hasOwnProperty(key)) {\n                            iterator(obj[key], key);\n                        }\n                    }\n                }\n            }\n            return obj;\n        },\n        clone: function (obj) {\n            return JSON.parse(JSON.stringify(obj));\n        }\n    }\n};\n\nmodule.exports = Jenkins;\n\n\n\n// WEBPACK FOOTER //\n// ./js/core/Jenkins.js","const storage = chrome.storage.sync;\n\nconst request = async (keys, callback) => {\n    const response = await callback;\n};\n\nmodule.exports = {\n    onChanged: chrome.storage.onChanged,\n    get: (keys) => {\n        request(keys, storage.get(keys))\n    }, \n    set: (keys) => {\n        request(keys, storage.set(keys))\n    }\n};\n\n\n// WEBPACK FOOTER //\n// ./js/core/Storage.js","import Utils from \"./js/core/Utils\";\nimport Config from \"./js/core/ConfigJSON\";\nimport Jenkins from \"./js/core/Jenkins\";\n\nconst WARNING_MSG = 'You did not select any views. Click here to configure it!';\nconst builds = Utils.qs('.omj__builds');\nconst mainWrapper = Utils.qs('.omj-mainWrapper');\nconst _ = Jenkins._;\n\nfunction loadSpinner(element) {\n    const spinner = document.createElement('img');\n    spinner.alt = 'Loading...';\n    spinner.src = 'img/spinner.gif';\n    spinner.className = 'omj__loading-spinner';\n    if (!Utils.isAlreadyCreated('.omj__loading-spinner')) {\n        return element.insertAdjacentElement('afterend', spinner);\n    }\n}\n\nfunction noViewsSelectedError() {\n    const error = Utils.qs('.error');\n    const aElement = document.createElement('a');\n    aElement.href = chrome.extension.getURL('options.html');\n    aElement.innerText = WARNING_MSG;\n    error.appendChild(aElement);\n    chrome.browserAction.setBadgeText({text: 'Loading...'});\n    chrome.browserAction.setBadgeBackgroundColor({color: 'black'});\n}\n\nfunction getViews(views) {\n    Utils.log('Build job with: ', views);\n    views.forEach(view => {\n        Jenkins.getJobs(view, buildJobs)\n    });\n}\n\nfunction buildJobs(views) {\n    const viewName = views.name;\n    const node = Utils.qs('.omj__wrapperView');\n    const clone = node.cloneNode(true);\n    const view = clone.querySelector('.omj__leftWrapper .omj__viewName');\n    view.innerText = viewName;\n    views.jobs.map((job, index) => {\n        const jobName = clone.querySelector('.omj__leftWrapper .omj__viewName');\n        jobName.innerText =  job;\n\n        /*jobs.appendChild(usedJob);\n        Jenkins.getJobsInfo(job.url, getLastExecution);*/\n    });\n    mainWrapper.appendChild(clone);\n    /*_.forEach(node.querySelectorAll('.omj__viewName'), function (el) {\n        el.innerText = viewName;\n    });*/\n    /*if (view && view.jobs) {\n        const jobs = Utils.qs('.omg__jobs');\n        view.jobs.map((job, index) => {\n            const usedJob = document.createElement('div');\n            usedJob.className = `.omg__jobs--${index}`;\n            usedJob.setAttribute('data-job-url', job.url);\n            jobs.appendChild(usedJob);\n            Jenkins.getJobsInfo(job.url, getLastExecution);\n        });\n    }*/\n}\n\nfunction getLastExecution(data, options) {\n    const lastBuildUrl = data && data.lastBuild.url;\n    Jenkins.getBuild(lastBuildUrl, options.user, options.token, showBuildInfo);\n}\n\nfunction showBuildInfo(data) {\n    const wrapper = document.createElement('div');\n    const props = getDataProperties(data);\n    cleanProps(props);\n    if (props.hasUpstreamProjects) {\n        wrapper.innerHTML = Config.template.upstream(props, data);\n    } else {\n        wrapper.innerHTML = Config.template.default(props, data);\n    }\n    wrapper.className = 'omj__build-' + data.result.toLowerCase();\n    builds.appendChild(wrapper);\n\n    if (data.result === 'FAILURE') {\n        chrome.browserAction.setBadgeText({text: '1'});\n        chrome.browserAction.setBadgeBackgroundColor({color: Config.status[data.result]});\n    } else if (data.result === 'UNSTABLE') {\n        chrome.browserAction.setBadgeText({text: '1'});\n        chrome.browserAction.setBadgeBackgroundColor({color: Config.status[data.result]});\n    }\n}\n\nfunction cleanProps(props) {\n    props.hasUpstreamProjects = props.hasUpstreamProjects && props.hasUpstreamProjects.toString().replace(/,/g, '');\n    props.upstreamBuild = props.upstreamBuild && props.upstreamBuild.toString().replace(/,/g, '');\n    props.upstreamProject = props.upstreamProject && props.upstreamProject.toString().replace(/,/g, '');\n}\n\nfunction getDataProperties(data) {\n    return {\n        hasUpstreamProjects: getUpStreamInfo(data, 'parameters', 'name'),\n        buildName: data.fullDisplayName,\n        url: data.url,\n        branch: getUpStreamInfo(data, 'name'),\n        commitId: getUpStreamInfo(data, 'SHA1'),\n        shortDescription: getUpStreamInfo(data, 'shortDescription'),\n        commitMsg: data && data.hasOwnProperty('changeSet') && data.changeSet.items[0] && data.changeSet.items[0].msg,\n        upstreamBuild: getUpStreamInfo(data, 'parameters', 'number'),\n        upstreamProject: getUpStreamInfo(data, 'parameters', 'jobName')\n    }\n}\n\nfunction getUpStreamInfo(data, attrName, extraAttrs) {\n    for (let i = 0; i < data.actions.length; i++) {\n        const revision = data.actions[i];\n        if (revision.hasOwnProperty('causes') && revision.causes[0].hasOwnProperty(attrName)) {\n            return revision.causes[0][attrName];\n        } else if (revision.hasOwnProperty('lastBuiltRevision')) {\n            return revision.lastBuiltRevision.branch[0][attrName];\n        } else if (revision.hasOwnProperty(attrName)) {\n            return revision.parameters.map(attr => {\n                if (attr.name === 'PARENT_BUILD') {\n                    return attr[extraAttrs];\n                }\n            })\n        }\n    }\n}\n\n/*function logUser(ev) {\n ev.preventDefault();\n loadSpinner(logInBtn);\n const form = ev.target.parentNode;\n const values = getInputsValues(form);\n Config.username = 'sergio.mironescu@marfeel.com'; //value[0];\n Config.token = '0a64474008e850b439353d2929013e13'; //value[1];\n Config.host = 'bobthebuilder.marfeel.com'; //value[2];\n Config.port = '8443'; //value[3];\n\n const host = `https://${Config.host}:${Config.port}`;\n\n Jenkins.init(host, function (data) {\n Utils.log('init: ', data)\n });\n }*/\n\nconst app = {\n    init: function () {\n        chrome.runtime.sendMessage({fn: 'savedViews'}, function (response) {\n            Utils.log('Saved views are: ', response.saved_views);\n            if (response && response.saved_views.length > 0) {\n                getViews(response.saved_views);\n            } else {\n                noViewsSelectedError();\n            }\n        });\n    }\n};\n\ndocument.addEventListener('DOMContentLoaded', Jenkins.initDebug.buildLeftTemplate);\n\n\n\n// WEBPACK FOOTER //\n// ./popup.js"],"sourceRoot":""}