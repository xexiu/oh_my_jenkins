{"version":3,"sources":["webpack:///webpack/bootstrap a60b5e5eb0cbc9beda52","webpack:///./js/core/Utils.js","webpack:///./js/core/ConfigJSON.js","webpack:///./js/core/Jenkins.js","webpack:///./options.js"],"names":["module","exports","qs","selector","node","document","querySelector","qsAll","nodeList","querySelectorAll","toArray","isAlreadyCreated","Array","prototype","slice","call","clearNode","element","nodes","length","forEach","remove","HTMLDocument","getInputsValues","form","arrayValues","i","elements","input","push","value","closePopUp","chrome","extension","getViews","type","win","window","close","createIframe","src","body","innerHTML","iframe","createElement","appendChild","clearStorage","storage","local","clear","log","msg","callBack","console","removeClass","classList","contains","addClass","add","insertElement","position","insertAdjacentElement","error","text","Utils","innerText","req","defer","promise","Promise","resolve","reject","when","all","iterable","scope","broadcast","name","detail","dispatchEvent","CustomEvent","on","callback","addEventListener","e","StorageService","promisedCallback","deferred","data","runtime","lastError","onChanged","get","keys","set","objects","$forEach","obj","iterator","key","hasOwnProperty","clone","JSON","parse","stringify","configJSON","API_JSON","HTTPS","HTTP_CODE_401","SLASH","DOUBLE_SLASH","fetch","credentials","SERVER_DOWN","jobs","JOBS_INITIALIZED","JOBS_CHANGED","OPTIONS_CHANGED","Unreachable","status","SUCCESS","UNSTABLE","FAILURE","ABORTED","template","default","upstream","ZERO","ONE","_","API","$","Storage","defaultJobData","defaultJobDataService","jenkins","jenkinsService","Jobs","JobsService","buildingRegExp","colorToClass","blue","yellow","red","colorToIcon","aborted","notbuilt","disabled","jobMapping","url","basicColor","color","replace","lastBuild","lastCompletedBuild","displayName","nodeName","decodeURI","building","test","statusClass","statusIcon","lastBuildNumber","number","lastBuildTime","reduce","job","subJobKey","charAt","Jenkins","request","then","res","ok","json","jobNameRegExp","undefined","result","oldValue","newValue","setUrls","urls","newJobs","updateStatus","catch","Error","message","statusText","updateAllStatus","promises","initOptions","options","refreshTime","notification","addListener","initJobs","errorResponse","response","cleanUrl","includes","init","getJobs","getJobsInfo","getBuild","$rootScope","urlsTextarea","$on","event","showJobUrls","NodeList","refreshTimeInput","getElementById","refreshTimeSpan","optionsStatusElement","urlsStatusElement","defaultOptions","showSavedNotification","statusElement","style","visibility","setTimeout","Object","join","saveOptions","saveUrls","trim","newUrls","split","restoreOptions","checked","textContent","updateRefreshTimeSpan"],"mappings":"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","file":"options.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a60b5e5eb0cbc9beda52","module.exports = {\n    qs(selector, node) {\n        return (node || document).querySelector(selector);\n    },\n    qsAll: function qsAll(selector, node) {\n        var nodeList = (node || document).querySelectorAll(selector);\n        return this.toArray(nodeList);\n    },\n    isAlreadyCreated: function (selector, node) {\n        return node || document.querySelector(selector);\n    },\n    toArray: function (node) {\n        return Array.prototype.slice.call(node);\n    },\n    clearNode: function (element, selector) {\n        var nodes = this.qsAll(selector) || element;\n        if (nodes.length > 0) {\n            [].forEach.call(nodes, function (node) {\n                return node && node.remove();\n            });\n        } else {\n            if (element && (!element instanceof HTMLDocument)) {\n                return element && element.remove();\n            }\n        }\n\n    },\n    getInputsValues: function (form) {\n        let arrayValues = [];\n        for (var i = 0; i < form.elements.length; i++) {\n            var input = form[i];\n            arrayValues.push(input.value);\n        }\n        return arrayValues;\n    },\n    closePopUp: function () {\n        chrome.extension.getViews({type: \"popup\"}).forEach(function (win) {\n            if (win != window) win.close();\n        });\n    },\n    createIframe: function (src) {\n        document.body.innerHTML = '';\n        const iframe = document.createElement('iframe');\n        iframe.src = src;\n        document.body.appendChild(iframe);\n    },\n    clearStorage: function () {\n        return chrome.storage.local.clear();\n    },\n    log: function (msg, callBack) {\n        console.log('======>>> ' + msg);\n        console.log(callBack);\n    },\n    removeClass: function (element, selector) {\n        if (element && element.classList.contains(selector)) {\n            element.classList.remove(selector);\n        } else {\n            console.log('Utils.removeClass: ', element + 'already removed this class: ', selector);\n        }\n    },\n    addClass: function (element, selector) {\n        if (element && element.classList.contains(selector)) {\n            console.log('Utils.addClass: ', element + 'already has this class: ', selector);\n        } else {\n            element.classList.add(selector);\n        }\n    },\n    insertElement: function (node, position, element) {\n        return node.insertAdjacentElement(position, element);\n    },\n    error: function (text) {\n        const error = Utils.qs('.error');\n        error.innerText = text;\n    },\n    req: {\n        defer: function () {\n            var defer = {};\n            defer.promise = new Promise(function (resolve, reject) {\n                defer.resolve = resolve;\n                defer.reject = reject;\n            });\n            return defer;\n        },\n        when: function (value) {\n            return Promise.resolve(value);\n        },\n        all: function (iterable) {\n            return Promise.all(iterable);\n        }\n    },\n    scope: {\n        broadcast: function (name, detail) {\n            window.dispatchEvent(new CustomEvent(name, {detail: detail}));\n        },\n        on: function (name, callback) {\n            window.addEventListener(name, function (e) {\n                callback(e, e.detail);\n            });\n        }\n    },\n    StorageService: function (req) {\n        var storage = chrome.storage.local;\n\n        function promisedCallback(deferred) {\n            return function (data) {\n                if (chrome.runtime.lastError) {\n                    deferred.reject(runtime.lastError);\n                } else {\n                    deferred.resolve(data);\n                }\n            };\n        }\n\n        return {\n            onChanged: chrome.storage.onChanged,\n            get: function (keys) {\n                var deferred = req.defer();\n                storage.get(keys, promisedCallback(deferred));\n                return deferred.promise;\n            },\n            set: function (objects) {\n                var deferred = req.defer();\n                storage.set(objects, promisedCallback(deferred));\n                return deferred.promise;\n            }\n        };\n    },\n    $forEach: {\n        forEach: function (obj, iterator) {\n            if (obj) {\n                if (obj.forEach) {\n                    obj.forEach(iterator);\n                } else if ('length' in obj && obj.length > 0) {\n                    for (let i = 0; i < obj.length; i++) {\n                        iterator(obj[i], i);\n                    }\n                } else {\n                    for (let key in obj) {\n                        if (obj.hasOwnProperty(key)) {\n                            iterator(obj[key], key);\n                        }\n                    }\n                }\n            }\n            return obj;\n        },\n        clone: function (obj) {\n            return JSON.parse(JSON.stringify(obj));\n        }\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./js/core/Utils.js","const configJSON = {\n    API_JSON: '/api/json',\n    HTTPS: 'https://',\n    HTTP_CODE_401: 401,\n    SLASH: '/',\n    DOUBLE_SLASH: '//',\n    fetch: {\n        credentials: 'include'\n    },\n    SERVER_DOWN: 'Must be a timeout! Server is down? ErrorCode: ',\n    jobs: {\n        JOBS_INITIALIZED: 'Jobs::jobs.initialized',\n        JOBS_CHANGED: 'Jobs::jobs.changed'\n    },\n    all: 'all',\n    OPTIONS_CHANGED: 'Options::options.changed',\n    Unreachable: 'Unreachable',\n    status: {\n        SUCCESS: 'green',\n        UNSTABLE: 'orange',\n        FAILURE: 'red',\n        ABORTED: 'grey'\n    },\n    template: {\n        default: '',\n        upstream: ''\n    },\n    ZERO: 0,\n    ONE: 1\n};\n\nmodule.exports = configJSON;\n\n\n\n// WEBPACK FOOTER //\n// ./js/core/ConfigJSON.js","import * as Utils from \"./Utils\";\nimport * as _ from \"./ConfigJSON\";\n\nconst API = 'api';\nconst scope = Utils.scope;\nconst req = Utils.req;\nconst $ = Utils.$forEach;\nconst Storage = Utils.StorageService(req);\nconst defaultJobData = defaultJobDataService();\nconst jenkins = jenkinsService(defaultJobData);\nconst Jobs = JobsService(req, Storage, jenkins, defaultJobData);\n\nfunction jenkinsService(defaultJobData) {\n    const buildingRegExp = /_anime$/;\n    const colorToClass = {\n        blue: 'success', yellow: 'warning', red: 'danger'\n    };\n    const colorToIcon = {\n        blue: 'green', yellow: 'yellow', red: 'red'\n    };\n    const status = {\n        blue: 'Success',\n        yellow: 'Unstable',\n        red: 'Failure',\n        aborted: 'Aborted',\n        notbuilt: 'Not built',\n        disabled: 'Disabled'\n    };\n\n    function jobMapping(url, data) {\n        const basicColor = (data.color || '').replace(buildingRegExp, '');\n        const lastBuild = data.lastCompletedBuild || {};\n        return {\n            name: data.displayName || data.name || data.nodeName || 'All jobs',\n            url: decodeURI(data.url || url),\n            building: buildingRegExp.test(data.color),\n            status: status[basicColor] || basicColor,\n            statusClass: colorToClass[basicColor] || '',\n            statusIcon: colorToIcon[basicColor] || 'grey',\n            lastBuildNumber: lastBuild.number || '',\n            lastBuildTime: '',\n            jobs: data.jobs && data.jobs.reduce(function (jobs, data) {\n                var job = jobMapping(null, data);\n                jobs[subJobKey(job.url)] = job;\n                return jobs;\n            }, {})\n        };\n    }\n\n    function subJobKey(url) {\n        return url.replace(/^.+?\\/job\\/(.+)\\/$/, \"$1\").replace(/\\/job\\//g, \"/\");\n    }\n\n    return function (url) {\n        url = url.charAt(url.length - 1) === '/' ? url : url + '/';\n\n        return Jenkins.request(url).then(function (res) {\n            return res.ok ? res.json() : Promise.reject(res);\n        }).then(function (data) {\n            const job = jobMapping(url, data);\n            return job;\n        });\n    }\n}\n\nfunction defaultJobDataService() {\n    return function (url, status) {\n        const jobNameRegExp = /.*\\/job\\/([^/]+)(\\/.*|$)/;\n        return {\n            name: decodeURI(url.replace(jobNameRegExp, '$1')),\n            url: decodeURI(url),\n            building: false,\n            status: status || '',\n            statusClass: undefined,\n            statusIcon: undefined,\n            lastBuildNumber: undefined,\n            error: undefined,\n            jobs: undefined\n        };\n    }\n}\n\nfunction JobsService(req, Storage, jenkins, defaultJobData) {\n    const Jobs = {\n        jobs: {},\n        add: function (url, data) {\n            const result = {};\n            result.oldValue = Jobs.jobs[url];\n            result.newValue = Jobs.jobs[url] = data || Jobs.jobs[url] || defaultJobData(url);\n            return Storage.set({jobs: Jobs.jobs}).then(function () {\n                return result;\n            });\n        },\n        remove: function (url) {\n            delete Jobs.jobs[url];\n            return Storage.set({jobs: Jobs.jobs});\n        },\n        setUrls: function (urls) {\n            const newJobs = {};\n            urls.forEach(function (url) {\n                newJobs[url] = Jobs.jobs[url] || defaultJobData(url);\n            });\n            Jobs.jobs = newJobs;\n\n            return Storage.set({jobs: Jobs.jobs}).then(function () {\n                return Jobs.jobs;\n            });\n        },\n        updateStatus: function (url) {\n            return jenkins(url).catch(function (res) {\n                // On error, keep existing data or create default one\n                const data = $.clone(Jobs.jobs[url]) || defaultJobData(url);\n                data.error = (res instanceof Error ? res.message : res.statusText) || _.Unreachable;\n                return data;\n            }).then(function (data) {\n                return Jobs.add(url, data);\n            });\n        },\n        updateAllStatus: function () {\n            var promises = [];\n            $.forEach(Jobs.jobs, function (_, url) {\n                promises.push(Jobs.updateStatus(url));\n            });\n            return req.when(promises);\n        }\n    };\n\n    return Jobs;\n}\n\n// Initialize options and listen for changes\nfunction initOptions(scope, Storage) {\n    scope.options = {\n        refreshTime: 60,\n        notification: _.all\n    };\n\n    Storage.get({options: scope.options}).then(function (objects) {\n        scope.options = objects.options;\n        scope.broadcast(_.OPTIONS_CHANGED, scope.options);\n    });\n\n    Storage.onChanged.addListener(function (objects) {\n        if (objects.options) {\n            scope.options = objects.options.newValue;\n            scope.broadcast(_.OPTIONS_CHANGED, scope.options);\n        }\n    });\n}\n\n// Initialize jobs and listen for changes\nfunction initJobs(Jobs, Storage, scope) {\n    Jobs.jobs = {};\n\n    Storage.get({jobs: Jobs.jobs}).then(function (objects) {\n        Jobs.jobs = objects.jobs;\n        scope.broadcast(_.jobs.JOBS_INITIALIZED, Jobs.jobs);\n        scope.broadcast(_.jobs.JOBS_CHANGED, Jobs.jobs);\n    });\n\n    Storage.onChanged.addListener(function (objects) {\n        if (objects.jobs) {\n            Jobs.jobs = objects.jobs.newValue;\n            scope.broadcast(_.jobs.JOBS_CHANGED, Jobs.jobs);\n        }\n    });\n}\n\nfunction errorResponse(response) {\n    const error = Utils.qs('.error');\n    Utils.clearNode(document, '.omj__loading-spinner');\n    return error.innerText = response.statusText || response;\n}\n\nfunction cleanUrl(url) {\n    if (url && url.includes(`${_.DOUBLE_SLASH}${API}`)) {\n        return url.replace(`${_.DOUBLE_SLASH}${API}`, `${_.SLASH}${API}`);\n    }\n    return url;\n}\n\nconst Jenkins = {\n    init: function () {\n        initOptions(scope, Storage);\n        initJobs(Jobs, Storage, scope);\n    },\n    Jobs: Jobs,\n    getJobs: function (url, callback) {\n        this.request(url, callback);\n    },\n    getJobsInfo: function (url, callback) {\n        this.request(url, callback);\n    },\n    getBuild: function (url, callback) {\n        this.request(url, callback);\n    },\n    request: function (url, callback) {\n        url = cleanUrl(`${url}${_.API_JSON}`);\n        fetch(url, _.fetch).then(function (response) {\n            if (response.status === _.HTTP_CODE_401) {\n                return errorResponse(response);\n            } else {\n                Utils.clearNode(document, '.omj__loading-spinner');\n                Utils.clearNode(document, '.omj__form-style');\n                response.json().then(function (data) {\n                    return callback ? callback(data) : data;\n                });\n            }\n        }).catch(function (error) {\n            errorResponse(error);\n            Utils.log(`${_.SERVER_DOWN}${error}`);\n        });\n    }\n};\n\nmodule.exports = Jenkins;\n\n\n\n// WEBPACK FOOTER //\n// ./js/core/Jenkins.js","import Utils from \"./js/core/Utils\";\nimport Jenkins from \"./js/core/Jenkins\";\n\n(function () {\n    \"use strict\";\n    Jenkins.init();\n\n    var Jobs = Jenkins.Jobs;\n    var $rootScope = Utils.scope;\n\n    var urlsTextarea = document.querySelector('#urls');\n\n    $rootScope.$on('Jobs::jobs.initialized', function (event, jobs) {\n        showJobUrls(jobs);\n    });\n\n    NodeList.prototype.forEach = Array.prototype.forEach;\n\n    var refreshTimeInput = document.getElementById('refreshTime');\n    var refreshTimeSpan = document.getElementById('refreshTimeSpan');\n    var optionsStatusElement = document.getElementById('optionStatus');\n    var urlsStatusElement = document.getElementById('urlsStatus');\n\n    var defaultOptions = {\n        refreshTime: 60,\n        notification: 'all'\n    };\n\n    function showSavedNotification(statusElement) {\n        // Update status to let user know options were saved.\n        statusElement.style.visibility = \"\";\n        setTimeout(function () {\n            statusElement.style.visibility = \"hidden\";\n        }, 2000);\n    };\n\n    function showJobUrls(jobs) {\n        urlsTextarea.value = Object.keys(jobs).join(\"\\n\");\n    }\n\n    // Saves options to chrome.storage.local.\n    function saveOptions() {\n        var options = {\n            refreshTime: refreshTimeInput.value,\n            notification: document.querySelector('[name=notification]:checked').value\n        };\n        chrome.storage.local.set({options: options}, function () {\n            showSavedNotification(optionsStatusElement);\n        });\n    }\n\n    // Saves urls to chrome.storage.local.\n    function saveUrls() {\n        var value = urlsTextarea.value.trim();\n        var newUrls = value ? value.replace(/[\\r\\n]+/g, \"\\n\").split(\"\\n\") : [];\n        Jobs.setUrls(newUrls).then(showJobUrls).then(function () {\n            showSavedNotification(urlsStatusElement);\n        });\n    }\n\n    // Restores the preferences stored in chrome.storage.\n    function restoreOptions() {\n        // TODO create and use OptionService\n        chrome.storage.local.get({options: defaultOptions}, function (objects) {\n            var options = objects.options;\n            document.querySelector('[name=notification]:checked').checked = false;\n            document.querySelector('[name=notification][value=\"' + options.notification + '\"]').checked = true;\n            refreshTimeSpan.textContent = refreshTimeInput.value = options.refreshTime;\n        });\n    }\n\n    function updateRefreshTimeSpan() {\n        refreshTimeSpan.textContent = refreshTimeInput.value;\n    }\n\n    document.addEventListener('DOMContentLoaded', restoreOptions);\n    document.querySelectorAll('input').forEach(function (element) {\n        element.addEventListener('change', saveOptions);\n    });\n    document.querySelector('#saveUrls').addEventListener('click', saveUrls);\n    refreshTimeInput.addEventListener('input', updateRefreshTimeSpan);\n})();\n\n/*const ERROR_MSG = 'You did not select any views!';\nconst SUCCESS_MSG = 'View(s) saved!!';\nconst btnOptions = Utils.qs('#btnOptions');\nconst errorNode = Utils.qs('.error');\n\nfunction getInputsValues(form) {\n    let arrayValues = [];\n    for (var i = 0; i < form.elements.length; i++) {\n        var input = form[i];\n        if (input.checked) {\n            arrayValues.push(input.value);\n        }\n    }\n    return arrayValues;\n}\n\nfunction successMsg(form) {\n    const aElement = document.createElement('a');\n    aElement.href = Utils.closePopUp(); //chrome.extension.getURL('popup.html');\n    aElement.innerText = SUCCESS_MSG;\n    aElement.className = 'omj_successBtn';\n    Utils.clearNode(btnOptions);\n    if (!Utils.isAlreadyCreated('.omj_successBtn')) {\n        return form.appendChild(aElement);\n    }\n}\n\nfunction saveUserSelectedViews(inputs, form) {\n    chrome.storage.sync.set({'saved_views': inputs}, function () {\n        Utils.log('saved views: ', inputs);\n        if (inputs.length > 0) {\n            successMsg(form);\n            Utils.clearNode(errorNode);\n        } else {\n            Utils.error(ERROR_MSG);\n        }\n    });\n}\n\nfunction buildAllViews(response) {\n    response.views[0].url = 'https://bobthebuilder.marfeel.com:8443/view/0.Core/';\n    for (let i = 0; i < response.views.length; i++) {\n        const view = response.views[i];\n        const input = document.createElement('input');\n        const viewTitle = document.createElement('label');\n        viewTitle.innerText = view.name;\n        input.setAttribute('type', 'checkbox');\n        input.setAttribute('value', view.url);\n        input.setAttribute('name', 'jenkins_view');\n        Utils.insertElement(btnOptions, 'beforebegin', input);\n        Utils.insertElement(input, 'afterend', viewTitle);\n    }\n}\n\nchrome.runtime.sendMessage({fn: 'getViews'}, function (response) {\n    Utils.log('From background (getViews) ', response);\n    if (!!response && !!response.views) {\n        buildAllViews(response);\n    }\n\n    btnOptions && btnOptions.addEventListener('click', function (ev) {\n        ev.preventDefault();\n        const form = Utils.qs('.omj__form-style form');\n        const inputs = getInputsValues(form);\n        saveUserSelectedViews(inputs, form)\n    })\n});*/\n\n\n\n// WEBPACK FOOTER //\n// ./options.js"],"sourceRoot":""}